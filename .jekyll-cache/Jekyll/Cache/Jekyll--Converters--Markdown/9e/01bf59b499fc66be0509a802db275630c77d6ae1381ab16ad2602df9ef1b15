I"v<hr />
<p>layout: post
title: â€˜ì›¹ ì‚¬ìš©ì ì¸ì¦ ë°©ë²•â€™
date: 2019-05-20 00:00:00.123 +0900
author: Rockheung
tags: authentication javascript web
categories: Study
â€”## ì›¹ ì‚¬ìš©ì ì¸ì¦ ë°©ë²•</p>

<h3 id="ì‚¬ìš©ì-ì¸ì¦ì„-ìœ„í•œ-best-practiceë¥¼-ì°¾ì•„ë³´ì•˜ë‹¤">ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•œ best practiceë¥¼ ì°¾ì•„ë³´ì•˜ë‹¤</h3>

<blockquote>
  <p>MDN: HTTP authentication: ì¼ë°˜ì ì¸ HTTP ì¸ì¦ í”„ë ˆì„ì›Œí¬</p>
</blockquote>

<p><img src="https://mdn.mozillademos.org/files/14689/HTTPAuth.png" alt="" />
@Node.js</p>

<ol>
  <li>í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— í˜ì´ì§€ë¥¼ ìš”ì²­í•œë‹¤.</li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span> <span class="p">});</span>
</code></pre></div></div>

<ol>
  <li>ë§Œì•½ ê·¸ í˜ì´ì§€ê°€ ê¶Œí•œì´ í•„ìš”í•˜ë‹¤ë©´, ì„œë²„ëŠ” 401ì‘ë‹µ ì½”ë“œì™€ í•¨ê»˜ ì¸ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œì‹œí•œë‹¤. typeì€ <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Authentication#%EC%9D%B8%EC%A6%9D_%EC%8A%A4%ED%82%B4">MDN: HTTP authentication: ì¸ì¦ ìŠ¤í‚´</a>ì„ ì°¸ê³ </li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">401</span><span class="p">,</span> <span class="p">{</span> <span class="nx">WWW</span><span class="o">-</span><span class="na">Authenticate</span><span class="p">:</span> <span class="cm">/* &lt;type&gt; realm=&lt;realm&gt; */</span><span class="p">}</span> <span class="p">)</span>
<span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>í´ë¼ì´ì–¸íŠ¸ëŠ” ì œì‹œëœ ë°©ë²•ëŒ€ë¡œ ë³¸ì¸ì„ ì¸ì¦í•˜ëŠ” ì •ë³´ë¥¼ í—¤ë”ì— ë‹´ì•„ ì„œë²„ë¡œ ì „ì†¡í•œë‹¤</li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Header</span><span class="p">();</span>
<span class="nx">headers</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span> <span class="cm">/* &lt;type&gt; &lt;credentials&gt; */</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span> <span class="c1">// or just{ Authorization: /* &lt;type&gt; &lt;credentials&gt; */ }</span>
<span class="p">});</span>
</code></pre></div></div>

<ol>
  <li>ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì¸ì¦ ì •ë³´ì˜ ìœ íš¨ì„±ì„ íŒë‹¨í•˜ì—¬ 200(OK) í˜¹ì€ 403(Forbidden) ìƒíƒœì½”ë“œì˜ ì‘ë‹µì„ ë³´ë‚¸ë‹¤</li>
</ol>

<p>ê·¸ë ‡ì§€ë§Œ ì´ëŠ” í‘œì¤€ì´ê³ , ì‹¤ì€ ë‹¤ì–‘í•˜ê²Œ ì¸ì¦ ë°©ë²•ì„ ë””ìì¸í•  ìˆ˜ ìˆëŠ”ë°, JWTì™€ Outh2.0ì´ ê·¸ê²ƒì´ë‹¤.
ì¶”ê°€ë‚´ìš© =&gt; <a href="https://tansfil.tistory.com/59">https://tansfil.tistory.com/59</a></p>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>
:ET