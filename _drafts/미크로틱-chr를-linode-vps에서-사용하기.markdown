---
    layout: post
    title:  "미크로틱 CHR를 Linode VPS에서 사용하기"
    date:   2018-03-11 10:21:15.983 -0600
    categories: [ 서버 ]
    tags: [ Linode, Mikrotik, 린노드, 미크로틱, VPN, CHR ]
---

### 한국에서 나고 자란 이라면 인터넷에서 [WARNING](http://warning.or.kr/)사이트를 다들 알 것이다. 이를 우회하기 위해서 프록시 서버를 사용하기도 하고, 유료 VPN을 이용하기도 한다. 물론 가격은 크게 부담스럽지 않다. 속도가 만족스럽지 못할 뿐. [미크로틱](https://namu.wiki/w/Mikrotik)의 CHR(Cloud Hosted Router) 이미지를 이용한 VPN 속도의 신세계를 소개한다. 린노드 VPS는 물론 공짜는 아니지만($5/월), 친구들을 설득해서 여럿이 사용해도 전혀 모자람이 없는 속도임을 미리 말해 둔다.

본인의 인터넷 환경과 VPN 측정 결과는 다음과 같다.

> KT half giga 인터넷, 아파트, VPS: Linode Tokyo instance, 

> VPN Up/Down - 150Mbps ~ 200Mbps @L2TP & IPsec-psk

본인은 iptime 기가랜 지원 모델을 사용하다가 VPN성능도 아주 만족스럽지 않고 와이파이도 불안해져서, 작년 이맘때쯤에 중고로 구매한 [RB2011iL-IN](http://www.mikrotik.co.kr/)를 사용하면서 전반적인 성능에 크게 만족하고 있었다. 제품 자체에서 풍겨나오는 마니아적 느낌도 한목 했다. 미크로틱의 제품을 얘기하면서 흔히 따라 붙는 수식어가 *가성비*와 *네가 다룰 수 있다면*인데, 비교 대상이 Cisco다. 일반 가정용이 아니라주 타겟이 SOHO 이상이란 뜻이고, 이는 곧 가격도 왠만큼 한다는 의미도 포함한다. 실제로 앞의 제품을 중고로 8만원에 구매했다. 

사용자 인터페이스는 인터넷 위키에서 찾아서 세팅해야 할 정도로 iptime과는 차원이 다른 *괴랄*한 편의성을 보여주지만, 사실 그만큼 입맛대로 세팅해서 사용할 수 있다는 얘기도 된다(잊지 말자 - *네가 다룰 수 있다면*이라는 수식어가 붙는다는 것을). 그리고 가정에서 일반적으로 사용하는 기능들은 미리 프로파일로 제공해서 본인과 같은 네트워크 비전문가도 조금 시간을 들이면 어렵지 않게 세팅할 수 있다. 여기에는 물론 VPN기능도 포함된다.

VPS에서 몇 가지 VPN 도커 이미지를 사용해 봤지만 잦은 오류와 접속 장애에 불편해하면서 결국 VPN의 끝판왕을 찾았다. Mikrotik CHR은 AWS와 같은 가상 VPS에 최적화된 Router OS가 담긴 이미지이다. 그러니까, 가상머신 위에서 돌아가는 리눅스 기반 공유기 OS인 것이다. 가상머신용이니만큼 다양한 포멧을 지원하니, [미크로틱 다운로드 페이지](https://mikrotik.com/download)에서 사용하고자 하는 이미지를 받을 수 있다. 여기서는 Raw 이미지를 사용할 것이다.

준비물은 다음과 같다 - *아무 Linode instance 하나.* 그리고 *약간의 지루함을 참을 수 있는 인내심.*
